<h1>Burger!</h1>


<ul>
    {{#each burgers}}
    {{#unless devoured}}
    <li>{{burger_name}}</li><button class="devouredBurger" name={{id}}>Devoured</button>
    {{/unless}}
    {{/each}}
</ul>

<h1>Devoured!</h1>

<ul>
    {{#each burgers}}
    {{#if devoured}}
    <li>{{burger_name}}</li>
    {{/if}}
    {{/each}}
</ul>

<h2>Make a Burger</h2>
<form class="create-form">

    <div class="form-group">
        <label for="ca">Burger Name:</label>
        <input type="text" id="burgerName" name="name">
    </div>
    <button type="submit" id="clickBurger">Make</button>
</form>

<script>
    $("#clickBurger").on("click", function () {
        console.log("we got clicked");
        $.ajax({
            url: "/api/burgers",
            data: {
                burger_name: $("#burgerName").val(),
                devoured: false
            },
            type: "post"
        }).then(function (answer) {
            console.log(answer)
        })
    })

    $(".devouredBurger").on("click", function () {
        console.log("we got clicked");
        $.ajax({
            url: "/api/burgers/" + $(this).attr("name"),
            type: "put",
        }).then(function (answer) {
            console.log(answer)
            location.reload()
        })
    })

</script>